# quanlykhachsan

**CHƯƠNG 2 : PHÂN TÍCH THIẾT KẾ HỆ THỐNG**

1. Xây dựng biểu đồ sub đăng ký

| Thuộc tính       | Mô tả                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Tên chức năng   | Đăng kí tài khoản                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Tác nhân         | Khách hàng                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Mô tả            | Chức năng cho phép người dùng mới đăng ký tài khoản vào hệ thống                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Tiền điều kiện | Chưa tồn tại tài khoản có sử dụng thông tin đăng ký                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Hậu điều kiện  | Người dùng đăng ký thành công vào hệ thống và sử dụng dịch vụ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Kịch bản chính  | 1. Người dùng chọn chức năng đăng ký tài khoản<br />2. Hệ thống hiển thị giao diện đăng ký(Form đăng ký)<br />3. Người dùng nhập thông tin đăng ký ( Tên, Email,SĐT, Mật khẩu, Xác nhận mật khẩu)<br />4. Hệ thống kiểm tra tính hợp lệ của dữ liệu:<br /> - Email đúng định dạng và chưa tồn tại trên hệ thống<br /> - Mật khẩu hợp lệ ( theo quy định về độ dài và ký tự đặc biệt)<br />5. Nếu dữ liệu hợp lệ → hệ thống lưu thông tin vào CSDL<br />6. Hệ thống gửi thông báo Đăng ký thành công ( có thể có gửi email xác thực)<br />7. Người dùng hoàn tất quá trình đăng ký                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Kịch bản phụ    | Trường hợp A: Nhập dữ liệu thiếu hoặc sai định dạng<br />- Ở bước3→Nếu người dùng bỏ trống trường bắt buộc hoặc nhập sai định dạng (ví dụ: email không đúng, số điện thoại sai).<br />- Hệ thống hiển thị thông báo lỗi ,yêu cầu nhập lại.<br />- Quay lại bước 3 .<br />Trường hợp B : Email đã tồn tại tron hệ thống <br />- Ở bước 4 → Kiểm tra thấy email đã được sử dụng <br />- Hệ thống hiển thị thông báo Email đã tồn tại.<br />- Người dùng có thể nhập lại Email khác ( Quay lại bước 3)<br />- Hoặc quên mật khẩu để khôi phục tài khoản<br />Trường hợp C: Mật khẩu không hợp<br />- Ở bước 4→ Mật khẩu nhập vào không đúng quy tắc (ví dụ <8 ký tự , không có ký tự đặc biệt)<br />- Hệ thống thông báo lỗi và yêu cầu nhập lại mật khẩu.<br />- Quay lại bước 3.<br />Trường hợp D:Xác thực email<br />- Sau bước 6 →Hệ thống gửi email xác thực.<br />- Người dùng mở email→Nhấp vào link xác thực.<br />- Nếu xác thực thành công→Tài khoản kích hoạt <br />- Nếu không xác thực trong thời gian quy định→Tài khoản bị hủy hoặc yêu cầu đăng ký lại. |

![1768547128933](image/sodoSub/1768547128933.png)
2. Biểu đồ Sub Đăng nhập

| Thuộc tính       | Mô tả                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Tên chức năng   | Đăng nhập tài khoản                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Tác nhân         | Khách hàng                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Mô tả            | Chức năng cho phép người dùng đăng nhập tài khoản vào hệ thống                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Tiền điều kiện | Ngừi dùng đang đăng ký thành công vào hệ thống                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Hậu điều kiện  | Người dùng đăng nhập thành công vào hệ thống và sử dụng dịch vụ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Kịch bản chính  | 1. Người dùng mở giao diện đăng nhập .<br />2. Hệ thống hiển thị form đăng nhập(tên đăng nhập/email +mật khẩu).<br />3.Người dùng nhập thông tin đăng nhập.<br />4.Hệ thống kiểm tra thông tin:<br />- Có tồn tại tài khoản trong hệ thống không?<br />- Mật khẩu có khớp không?<br />- Nếu hợp lệ → Hệ thống cho phép đăng nhập.<br />5. Hệ thống hiển thị **giao diện quản lý / trang chủ theo quyền của người dùng.<br />6. Kết thúc quá trình đăng nhập.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Kịch bản phụ    | Trường hợp A: Nhập thiếu thông tin<br />- Bước 3: Người dùng bỏ trống tên đăng nhập hoặc mật khẩu.<br />- Hệ thống báo lỗi “Vui lòng nhập đầy đủ thông tin” .<br />- Quay lại bước 2.<br />Trường hợp B: Tên đăng nhập/email không tồn tại<br />- Bước 4: Hệ thống kiểm tra và không tìm thấy tài khoản.<br />- Hệ thống thông báo  “Tài khoản không tồn tại” .<br />- Người dùng có thể:<br />+ Nhập lại thông tin(quay lại bước 2).<br />+Hoặc chọn Đăng ký nếu chưa có tài khoản<br />Trường hợp C: Mật khẩu sai<br />- Bước 4:Hệ thống phát hiện mật khẩu không khớp.<br />- Hệ thống báo lỗi “Sai mật khẩu” .<br />- Người dùng nhập lại(quay lại bước 2)<br />Trường hợp D: Quên mật khẩu<br />- Bước 2 : Người dùng chọn Quên mật khẩu<br />- Hệ thống hiển thị giao diện quên mật khẩu<br />- Người dùng nhập email Hệ thống gửi mã xác  thực / link đặt lại mật khẩu<br />- Người dùng xác nhận và đặt lại mật khẩu mới<br />- Quay lại Bước 1 để đăng nhập lại. |

|     |  · Ngườidùng nhập lại(quay lạibước2). **Trườnghợp D: Quên mậtkhẩu** · Bước2:Ngườidùngchọn **Quên**
 . · Hệthống hiểnthịgiaodiệnquênmậtkhẩu. · Ngườidùng nhậpemail→Hệ

| thốnggửimãxác thực/linkđặt lại mật khẩu. · Ngườidùng xácnhậnvàđặtlạimậtkhẩu mới. · Quaylạibước1 để đăng nhậplại. |  |
|                                                        |  |
![1768547152581](image/sodoSub/1768547152581.png)
